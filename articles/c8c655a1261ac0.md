---
title: "ãƒ“ãƒƒãƒˆå‡¦ç†"
emoji: "ğŸ¦”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Python", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"]
published: false
---

## ãƒ“ãƒƒãƒˆã‚·ãƒ•ãƒˆ

æŒ‡å®šã—ãŸãƒ“ãƒƒãƒˆæ•°åˆ†ã‚’ã€å·¦ã¾ãŸã¯å³ã«ã‚ºãƒ©ã™å‡¦ç†ã€‚ç©ºã„ãŸãƒ“ãƒƒãƒˆã¯ 0 ã§åŸ‹ã‚ã‚‰ã‚Œã‚‹ã€‚
å·¦ã«ã‚·ãƒ•ãƒˆã—ãŸå ´åˆã€å€¤ã¨ã—ã¦ $2^n$ å€ã«ãªã‚‹ã€‚
å³ã«ã‚·ãƒ•ãƒˆã—ãŸå ´åˆã€å€¤ã¨ã—ã¦ $\frac{1}{2^n}$ å€ã«ãªã‚‹ã€‚

```Python
0b00110101 << 2
format(0b00110101 << 2, '08b')  # 11010100

0b00110101 >> 2
format(0b00110101 >> 2, '08b')  # 00001101

# ãƒ“ãƒƒãƒˆä½ç½®å®šæ•°
const BIT_1 = 1 << 0  # 0000 0001
const BIT_2 = 1 << 1  # 0000 0010
const BIT_3 = 1 << 2  # 0000 0100
const BIT_4 = 1 << 3  # 0000 1000
const BIT_5 = 1 << 4  # 0001 0000
const BIT_6 = 1 << 5  # 0010 0000
const BIT_7 = 1 << 6  # 0100 0000
const BIT_8 = 1 << 7  # 1000 0000

for n in range(0, 8):
  print(format(1 << n, '08b'))
```

@[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=01_bitshift.py&hideExplorer=1&hideNavigation=1&view=editor)

## ãƒ“ãƒƒãƒˆæ¼”ç®—ã®ä¸€è¦§

| a (1) | b(2) | ~b(NOT) | a & b(AND) | a & ~b(AND) | a \| b(OR) | a ^ b(XOR) |
| :---: | :--: | :-----: | :--------: | :---------: | :--------: | :--------: |
|   0   |  0   |    1    |     0      |      0      |     0      |     0      |
|   1   |  0   |    1    |     0      |      1      |     1      |     1      |
|   0   |  1   |    0    |     0      |      0      |     1      |     1      |
|   1   |  1   |    0    |     1      |      0      |     1      |     0      |

## ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹

1 ã®å ´åˆã¯ã€1 ã«ã™ã‚‹ã€‚0 ã®å ´åˆã¯å…ƒã®å€¤ã®ã¾ã¾ã«ã™ã‚‹ã€‚
  => **OR** ã‚’å–ã‚‹

```Python
0 | 0  # å…ƒã®ã¾ã¾ 0
1 | 0  # å…ƒã®ã¾ã¾ 1
0 | 1  # 1 ã«ã™ã‚‹
1 | 1  # 1 ã«ã™ã‚‹

0b0101 | 0b0001  # 1 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹
0b0101 | 0b0010  # 2 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹

format(0b0101 | 0b0001, '04b')  # 0101
format(0b0101 | 0b0010, '04b')  # 0111
```

@[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=02_setflag.py&hideExplorer=1&hideNavigation=1&view=editor)


## ãƒ•ãƒ©ã‚°ã‚’æ¶ˆã™

1 ã®å ´åˆã¯ã€0 ã«ã™ã‚‹ã€‚0 ã®å ´åˆã¯å…ƒã®å€¤ã®ã¾ã¾ã«ã™ã‚‹ã€‚
  => **NOT** ã—ãŸå€¤ã¨ã® **AND** ã‚’å–ã‚‹

```Python
0 & ~0 = 0 & 1  # å…ƒã®ã¾ã¾ 0
1 & ~0 = 1 & 1  # å…ƒã®ã¾ã¾ 1
0 & ~1 = 1 & 0  # 0 ã«ã™ã‚‹
1 & ~1 = 1 & 0  # 0 ã«ã™ã‚‹

0b0101 & ~0b0001  # 1 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’æ¶ˆã™
0b0101 & ~0b0010  # 2 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’æ¶ˆã™

format(0b0101 & ~0b0001, '04b') # 0100
format(0b0101 & ~0b0010, '04b') # 0101
```

@[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=03_delflag.py&hideExplorer=1&hideNavigation=1&view=editor)

## ãƒ•ãƒ©ã‚°ã‚’åè»¢ã™ã‚‹

1 ã®å ´åˆã¯ã€å€¤ã‚’åè»¢ã™ã‚‹ã€‚0 ã®å ´åˆã¯å…ƒã®å€¤ã®ã¾ã¾ã«ã™ã‚‹ã€‚
  => **XOR** ã‚’å–ã‚‹

```Python
0 ^ 0  # å…ƒã®ã¾ã¾ 0
1 ^ 0  # å…ƒã®ã¾ã¾ 1
0 ^ 1  # åè»¢ã™ã‚‹ 1
1 ^ 1  # åè»¢ã™ã‚‹ 0

0b0101 ^ 0b0001  # 1 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’åè»¢ã™ã‚‹
0b0101 ^ 0b0010  # 2 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’åè»¢ã™ã‚‹

format(0b0101 ^ 0b0001, '04b')  # 0100
format(0b0101 ^ 0b0010, '04b')  # 0111
```

@[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=04_flipflag.py&hideExplorer=1&hideNavigation=1&view=editor)

## å€¤ã‚’å–å¾—ã™ã‚‹

1 ã®å ´åˆã¯ã€å€¤ã‚’å–å¾—ã™ã‚‹ã€‚0 ã®å ´åˆã¯ã€0 ã‚’å–å¾—ã™ã‚‹ã€‚
  => **AND** ã‚’å–ã‚‹

```Python
0 & 0  # 0
1 & 0  # 0
0 & 1  # å–å¾—ã™ã‚‹ 0
1 & 1  # å–å¾—ã™ã‚‹ 1

0b0101 & 0b0001        # 1 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’å–å¾—ã™ã‚‹
0b0101 & 0b0010        # 2 ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’å–å¾—ã™ã‚‹
0b0101 >> (N - 1) & 1  # N ãƒ“ãƒƒãƒˆç›®ã®ãƒ•ãƒ©ã‚°ã‚’å–å¾—ã™ã‚‹

format(0b0101 & 0b0001, '04b')  # 0001
format(0b0101 & 0b0010, '04b')  # 0000

format(0b0101 >> (1 - 1) & 1)   # 0101 ã® 1ãƒ“ãƒƒãƒˆç›®
format(0b0101 >> (2 - 1) & 1)   # 0101 ã® 2ãƒ“ãƒƒãƒˆç›®
format(0b0101 >> (3 - 1) & 1)   # 0101 ã® 3ãƒ“ãƒƒãƒˆç›®
format(0b0101 >> (4 - 1) & 1)   # 0101 ã® 4ãƒ“ãƒƒãƒˆç›®

for n in range(1, 5):
  format(0b0101 >> (n - 1) & 1)
```

@[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=05_getvalue.py&hideExplorer=1&hideNavigation=1&view=editor)

## ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šæ‰±ã„

struct ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹

https://docs.python.org/ja/3.14/library/struct.html


- struct.pack(format, val1, ...)

  æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒã‚¤ãƒˆåˆ—ã«å¤‰æ›ã™ã‚‹

  ```Python
  import struct

  unpackdata = struct.pack('BHI', 1, 2, 3)  # b'\x01\x00\x02\x00\x03\x00\x00\x00'
  ```

- struct.unpack(format, val1, ...)

  æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ã¦ãƒã‚¤ãƒˆåˆ—ã‚’ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã™ã‚‹

  ```Python
  import struct

  data = struct.unpack('BHI', b'\x01\x00\x02\x00\x03\x00\x00\x00')  # (1, 2, 3)
  ```

  @[stackblitz](https://stackblitz.com/edit/secret-python-rkltcvyi?embed=1&file=06_struct.py&hideExplorer=1&hideNavigation=1&view=editor)


- ãƒã‚¤ãƒˆã‚ªãƒ¼ãƒ€ãƒ¼æŒ‡å®š

  | æ–‡å­— | ãƒã‚¤ãƒˆã‚ªãƒ¼ãƒ€ãƒ¼     | ã‚µã‚¤ã‚º   | ã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆ |
  | :--- | :----------------- | :------- | :------------- |
  | @    | native             | native   | native         |
  | =    | native             | standard | none           |
  | <    | ãƒªãƒˆãƒ«ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³ | standard | none           |
  | >    | ãƒ“ãƒƒã‚°ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³ | standard | none           |
  | !    | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯       | standard | none           |


- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ–‡å­—åˆ—

  | æ–‡å­— | å‹                 | ã‚µã‚¤ã‚º(byte) |
  | :--- | :----------------- | :----------: |
  | x    | ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒã‚¤ãƒˆ   |      1       |
  | c    | char               |      1       |
  | b    | signed char        |      1       |
  | B    | unsigned char      |      1       |
  | ?    | _Bool              |      1       |
  | h    | short              |      2       |
  | H    | unsigned short     |      2       |
  | i    | int                |      4       |
  | I    | unsigned int       |      4       |
  | l    | long               |      4       |
  | L    | unsigned long      |      4       |
  | q    | long long          |      8       |
  | Q    | unsigned long long |      8       |
  | n    | ssize_t            |              |
  | N    | size_t             |              |
  | f    | float              |      4       |
  | d    | double             |      8       |
  | F    | float complex      |      8       |
  | D    | double complex     |      16      |
  | s    | char[]             |              |
  | p    | char[]             |              |
  | P    | void*              |              |
