---
title: "zim"
emoji: "ğŸ‘»"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["zsh", "zim"]
published: false
---

## Links

https://zimfw.sh

https://qiita.com/takuya0301/items/7da7410030f100850a64

https://takuyatsuchida.com/build-zsh-environment-by-zim-framework/

https://zenn.dev/monster_bag/articles/articles_2024-03-24

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
wget -nv -O - https://raw.githubusercontent.com/zimfw/install/master/install.zsh | zsh

# ä»¥ä¸‹ãŒã§ãã‚‹
# ~/.zim
# ~/.zimrc
# ~/.zshrc
```

- ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ

"warning: completion was already initialized before completion module."

```bash:.zshenv
unsetopt GLOBAL_RCS
```

## åˆæœŸè¨­å®š

```bash:.zimrc
#
# This is not sourced during shell startup and is only used to configure zimfw.
#

#
# Modules
#

# Sets sane Zsh built-in environment options.
# environment ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚»ãƒƒãƒˆ
zmodule environment
# Provides handy git aliases and functions.
# æ‰‹è»½ãª git ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨é–¢æ•°ã‚’æä¾›
zmodule git
# Applies correct bindkeys for input events.
# å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆæ™‚ã«æ­£ã—ã„ãƒã‚¤ãƒ³ãƒ‰ã‚­ãƒ¼ã‚’å‰²å½“
zmodule input
# Sets a custom terminal title.
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆ
zmodule termtitle
# Utility aliases and functions. Adds colour to ls, grep and less.
# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨é–¢æ•°ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€‚ls, grep, less ã«è‰²ä»˜ã‘ã‚’ã™ã‚‹ã€‚
zmodule utility

# <-- Normally new modules should be added here. Check each module documentation
# for any caveats.

#
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
#

# Exposes how long the last command took to run to prompts.
# ç›´è¿‘ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã«ã©ã‚Œãã‚‰ã„æ™‚é–“ãŒã‹ã‹ã£ãŸã‹ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤º
zmodule duration-info
# Exposes git repository status information to prompts.
# git ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æƒ…å ±ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤º
zmodule git-info
# A heavily reduced, ASCII-only version of the Spaceship and Starship prompts.
# Spaceship ã‚„ Starship ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚¢ã‚¹ã‚­ãƒ¼ã®ã¿ã®å½¢å¼
zmodule asciiship

#
# Completion
#

# Additional completion definitions for Zsh.
# è¿½åŠ ã®è£œå®Œå®šç¾©
zmodule zsh-users/zsh-completions --fpath src
# Enables and configures smart and extensive tab completion, must be sourced
# after all modules that add completion definitions.
# è³¢ãåºƒç¯„å›²ãªã‚¿ãƒ–è£œå®Œã‚’æœ‰åŠ¹ã«è¨­å®š
zmodule completion

#
# Modules that must be initialized last
#

# Fish-like syntax highlighting for Zsh, must be sourced after completion.
zmodule zsh-users/zsh-syntax-highlighting
# Fish-like history search for Zsh, must be sourced after
# zsh-users/zsh-syntax-highlighting.
zmodule zsh-users/zsh-history-substring-search
# Fish-like autosuggestions for Zsh. Add the following to your ~/.zshrc to boost
# performance: ZSH_AUTOSUGGEST_MANUAL_REBIND=1
zmodule zsh-users/zsh-autosuggestions
```

```bash:.zshrc
# Start configuration added by Zim Framework install {{{
#
# User configuration sourced by interactive shells
#

# -----------------
# Zsh configuration
# -----------------

#
# å±¥æ­´
#

# Remove older command from the history if a duplicate is to be added.
# é‡è¤‡ã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸã‚‰å±¥æ­´ã‹ã‚‰å¤ã„ã‚³ãƒãƒ³ãƒ‰ã‚’å‰Šé™¤
setopt HIST_IGNORE_ALL_DUPS

#
# å…¥å‡ºåŠ›
#

# Set editor default keymap to emacs (`-e`) or vi (`-v`)
# ã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’ emacs|vi ã«è¨­å®š
# bindkey -e
bindkey -v

# Prompt for spelling correction of commands.
# ã‚³ãƒãƒ³ãƒ‰ã®ã‚¹ãƒšãƒ«ãƒŸã‚¹è¨‚æ­£ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
setopt CORRECT

# Customize spelling correction prompt.
# ã‚¹ãƒšãƒ«ãƒŸã‚¹è¨‚æ­£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
SPROMPT='zsh: correct %F{red}%R%f to %F{green}%r%f [nyae]? '

# Remove path separator from WORDCHARS.
# WORDCHARS ã‹ã‚‰ãƒ‘ã‚¹åŒºåˆ‡ã‚Šã‚’å‰Šé™¤
WORDCHARS=${WORDCHARS//[\/]}

# --------------------
# Module configuration
# --------------------

#
# git
#

# Set a custom prefix for the generated aliases. The default prefix is 'G'.
# ç”Ÿæˆã•ã‚ŒãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ã‚»ãƒƒãƒˆã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã€'G'
zstyle ':zim:git' aliases-prefix 'g'

#
# input
#

# Append `../` to your input for each `.` you type after an initial `..`
# æœ€åˆã® ".." ã®å¾Œã« "." ã®å…¥åŠ›ã§ "../" ã‚’è¿½åŠ ã™ã‚‹
# zstyle ':zim:input' double-dot-expand yes

#
# termtitle
#

# Set a custom terminal title format using prompt expansion escape sequences.
# See http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Simple-Prompt-Escapes
# If none is provided, the default '%n@%m: %~' is used.
# ã‚«ã‚¹ã‚¿ãƒ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ã®æ›¸å¼ã‚’ã‚»ãƒƒãƒˆã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ‹¡å¼µã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦æŒ‡å®šã™ã‚‹ã€‚
#zstyle ':zim:termtitle' format '%1~'

#
# zsh-autosuggestions
#

# Disable automatic widget re-binding on each precmd. This can be set when
# zsh-users/zsh-autosuggestions is the last module in your ~/.zimrc.
# ã‚³ãƒãƒ³ãƒ‰ã®ã‚¿ã‚¤ãƒ—æ¯ã«ã€è‡ªå‹•ã‚¦ã‚£ã‚¸ãƒƒãƒˆå†ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’ç„¡åŠ¹ã«ã€‚
# zsh-users/zsh-autosuggestions ãŒ ~/.zimrc ã®æœ€å¾Œã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚ã‚‹å ´åˆã«ã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚
ZSH_AUTOSUGGEST_MANUAL_REBIND=1

# Customize the style that the suggestions are shown with.
# See https://github.com/zsh-users/zsh-autosuggestions/blob/master/README.md#suggestion-highlight-style
# ã‚µã‚¸ã‚§ã‚¹ãƒãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€‚
#ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=242'

#
# zsh-syntax-highlighting
#

# Set what highlighters will be used.
# See https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/docs/highlighters.md
# ã©ã®ãƒã‚¤ãƒ©ã‚¤ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’æŒ‡å®šã™ã‚‹
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets)

# Customize the main highlighter styles.
# See https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/docs/highlighters/main.md#how-to-tweak-it
# ãƒ¡ã‚¤ãƒ³ãƒã‚¤ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹
#typeset -A ZSH_HIGHLIGHT_STYLES
#ZSH_HIGHLIGHT_STYLES[comment]='fg=242'

# ------------------
# Initialize modules
# ------------------

ZIM_HOME=${ZDOTDIR:-${HOME}}/.zim
# Download zimfw plugin manager if missing.
# ã‚‚ã—ãªã‘ã‚Œã° zimfw ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
if [[ ! -e ${ZIM_HOME}/zimfw.zsh ]]; then
  if (( ${+commands[curl]} )); then
    curl -fsSL --create-dirs -o ${ZIM_HOME}/zimfw.zsh \
        https://github.com/zimfw/zimfw/releases/latest/download/zimfw.zsh
  else
    mkdir -p ${ZIM_HOME} && wget -nv -O ${ZIM_HOME}/zimfw.zsh \
        https://github.com/zimfw/zimfw/releases/latest/download/zimfw.zsh
  fi
fi
# Install missing modules, and update ${ZIM_HOME}/init.zsh if missing or outdated.
# æœªç™»éŒ²ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€${ZIM_HOME}/init.zsh ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
if [[ ! ${ZIM_HOME}/init.zsh -nt ${ZIM_CONFIG_FILE:-${ZDOTDIR:-${HOME}}/.zimrc} ]]; then
  source ${ZIM_HOME}/zimfw.zsh init
fi
# Initialize modules.
# ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆæœŸåŒ–
source ${ZIM_HOME}/init.zsh
# }}} End configuration added by Zim Framework install
```

## eza è¨­å®š

ls ã®ä»£æ›¿

```bash
sudo apt install eza
```

```bash:.zimrc
# eza
zmodule exa
```

### ä½¿ã„æ–¹

```bash
eza --long --tree
eza --long --grid
```


## bat è¨­å®š

cat ã®ä»£æ›¿

```bash
# https://github.com/sharkdp/bat/releases
wget https://github.com/sharkdp/bat/releases/download/v0.26.1/bat_0.26.1_amd64.deb
sudo apt install ./bat_0.26.1_amd64.deb

alias bat='bat --style="numbers,grid"'
```

## fd è¨­å®š

find ã®ä»£æ›¿

```bash
# https://github.com/sharkdp/fd/releases
wget https://github.com/sharkdp/fd/releases/download/v10.3.0/fd_10.3.0_amd64.deb
sudo apt install ./fd_10.3.0_amd64.deb
```

## fzf è¨­å®š

fuzzy finder

```bash
# https://github.com/junegunn/fzf/releases
wget https://github.com/junegunn/fzf/releases/download/v0.67.0/fzf-0.67.0-freebsd_amd64.tar.gz
tar xvfz fzf-0.67.0-freebsd_amd64.tar.gz
sudo mv fzf /usr/bin
```
