---
title: "TTLã§CPU"
emoji: "ğŸ˜½"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["CPU", "TTL"]
published: false
---

## Links

https://www.circuitlab.com/

https://making-cpu.github.io/archive/02_02_EN_gelou.pdf

https://elchika.com/article/a2dfc7e9-70ac-4879-bcbd-2046209ef2fb/

[CPUã®å‰µã‚Šã‹ãŸ](https://www.amazon.co.jp/dp/4839909865)

https://fumimaker.net/entry/2019/05/21/232344

https://seibe.jp/td4/

https://kikb.web.fc2.com/TD4/

[ä½œã‚ã†! CPU](https://www.amazon.co.jp/%E4%BD%9C%E3%82%8D%E3%81%86-CPU-%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%83%BC%E3%81%AE%E3%81%97%E3%81%8F%E3%81%BF-%E4%B8%8A%E5%8E%9F-%E5%91%A8/dp/4839968519/ref=pd_sbs_d_sccl_2_10/357-8294149-0144950?pd_rd_w=TeKWb&content-id=amzn1.sym.c0889d40-54df-4be4-b1c5-43522a3d0a92&pf_rd_p=c0889d40-54df-4be4-b1c5-43522a3d0a92&pf_rd_r=1ZWQS767AMYEV3JEG5P3&pd_rd_wg=2cd3p&pd_rd_r=096debd3-3c86-4e15-9dff-a7675108f05b&pd_rd_i=4839968519&psc=1)

http://zob.club/zob/antac3/

http://zob.club/zob/antac4/

[TTLã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ‹ãƒ¥ã‚¢ãƒ«](https://www.sun-elle.com/pdf/2_digital/ttl_aplicationm_manyual.pdf)

## ãƒ¡ãƒ¢

- CPU æ§‹æˆ
  - ã‚ªãƒšãƒ¬ãƒ¼ã‚¿
    - åŠ ç®—/æ¸›ç®—å™¨
    - ä¹—ç®—å™¨
    - ç®—è¡“è«–ç†æ¼”ç®—å™¨(ALU)
    - è¤‡åˆå‹æ¼”ç®—å™¨
  - ãƒ¬ã‚¸ã‚¹ã‚¿
    - ãƒ¬ã‚¸ã‚¹ã‚¿
    - ã‚·ãƒ•ãƒˆãƒ¬ã‚¸ã‚¹ã‚¿
    - ã‚«ã‚¦ãƒ³ã‚¿(psc)
  - å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ€
    - ãƒ©ã‚¤ãƒ³ãƒ‡ã‚³ãƒ¼ãƒ€
    - ã‚²ãƒ¼ãƒˆ
  - I/O
  - ãƒ‡ãƒ¼ã‚¿ãƒã‚¹

- IC
  - ã‚ªãƒšãƒ¬ãƒ¼ã‚¿
    - 74HC283
  - ãƒ¬ã‚¸ã‚¹ã‚¿
    - 74HC173
      - 74HC194(+1ãƒ‡ã‚³ãƒ¼ãƒ€)
      - 74HC161/163(+ã‚·ãƒ•ãƒˆãƒ‡ã‚³ãƒ¼ãƒ€)
  - å‘½ä»¤ãƒ‡ã‚³ãƒ¼ãƒ€
    - 74HC138/139
  - ãƒ‡ãƒ¼ã‚¿ãƒã‚¹
    - 74HC245
    - 74HC151/153/157/158
  - I/O
    - 74HC148
    - 74HC4511

## TC4

- CPUã®åŸºæœ¬å‹•ä½œ

  1. å‘½ä»¤ãƒ•ã‚§ãƒƒãƒ: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿ã«å¾“ã£ã¦å‘½ä»¤ã‚’ãƒ¡ãƒ¢ãƒªã‹ã‚‰èª­ã¿å‡ºã™
  2. ãƒ‡ã‚³ãƒ¼ãƒ‰ã€€ã€€: å‘½ä»¤ã‚’è§£èª­
  3. å®Ÿè¡Œã€€ã€€ã€€ã€€: ãƒ‡ã‚³ãƒ¼ãƒ‰çµæœã«å¿œã˜ã¦å®Ÿéš›ã®æ¼”ç®—ã‚’ã™ã‚‹
  4. ã‚¹ãƒˆã‚¢ã€€ã€€ã€€: æ¼”ç®—çµæœã‚’æ ¼ç´

- ã‚¯ãƒ­ãƒƒã‚¯
  ä¸Šè¨˜ã®å‹•ä½œã‚’ã‚¯ãƒ­ãƒƒã‚¯ã«åˆã‚ã›ã¦ç¹°ã‚Šè¿”ã™

- 4bit CPU
  æœ€å¤§ã§ $2^4 = 16$ ã¾ã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ‰±ã†

### è«–ç†å›è·¯

- NOT(ã‚¤ãƒ³ãƒãƒ¼ã‚¿)

![NOT](https://upload.wikimedia.org/wikipedia/commons/9/9f/Not-gate-en.svg =120x)

    | å…¥åŠ› | å‡ºåŠ› |
    | :--: | :--: |
    |  L   |  H   |
    |  H   |  L   |

- AND(è«–ç†ç©)

![AND](https://upload.wikimedia.org/wikipedia/commons/0/03/AND-gate-US.png)

    | å…¥åŠ›(A) | å…¥åŠ›(B) | å‡ºåŠ›(Y) |
    | :-----: | :-----: | :-----: |
    |    L    |    L    |    L    |
    |    L    |    H    |    L    |
    |    H    |    L    |    L    |
    |    H    |    H    |    H    |

- OR(è«–ç†å’Œ)

![OR](https://upload.wikimedia.org/wikipedia/commons/b/b9/OR-gate-US.png)

    | å…¥åŠ›(A) | å…¥åŠ›(B) | å‡ºåŠ›(Y) |
    | :-----: | :-----: | :-----: |
    |    L    |    L    |    L    |
    |    L    |    H    |    H    |
    |    H    |    L    |    H    |
    |    H    |    H    |    H    |

- NAND

![NAND](https://upload.wikimedia.org/wikipedia/commons/d/d3/NAND-gate-US.png)

    | å…¥åŠ›(A) | å…¥åŠ›(B) | å‡ºåŠ›(Y) |
    | :-----: | :-----: | :-----: |
    |    L    |    L    |    H    |
    |    L    |    H    |    H    |
    |    H    |    L    |    H    |
    |    H    |    H    |    L    |

- ä»–å…¥åŠ›ã‚²ãƒ¼ãƒˆ

  3å…¥åŠ›NANDã®å ´åˆ

    | å…¥åŠ›(A) | å…¥åŠ›(B) | å…¥åŠ›(C) | å‡ºåŠ›(Y) |
    | :-----: | :-----: | :-----: | :-----: |
    |    L    |    L    |    L    |    H    |
    |    L    |    L    |    H    |    H    |
    |    L    |    H    |    L    |    H    |
    |    L    |    H    |    H    |    H    |
    |    H    |    L    |    L    |    H    |
    |    H    |    L    |    H    |    H    |
    |    H    |    H    |    L    |    H    |
    |    H    |    H    |    H    |    L    |

### CMOSã®æ³¨æ„ç‚¹

- ä½¿ç”¨ã—ãªã„ã‚²ãƒ¼ãƒˆã«ã¤ã„ã¦

  **å…¥åŠ›å´** ã¯ã€å¾®å¦™ãªé›»åœ§ã‚‚åå¿œã—ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã€
  ä¸ç”¨æ„ã«é›»åœ§ãŒå…¥ã£ã¦é›»åŠ›ã‚’æ¶ˆè²»ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€é›»æºé›»åœ§ã‹GNDã«æ¥ç¶šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã€‚

- é™é›»æ°—

  ç½®ãå ´æ‰€ã«ã‚ã‚‰ã‹ã˜ã‚è§¦ã£ã¦æ”¾é›»ã—ã¦ãŠã

- é›»æº

  ACã‚¢ãƒ€ãƒ—ã‚¿ã¯ã€å®‰å®šåŒ–ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ä½¿ãˆãªã„

- ãƒ‘ã‚¹ã‚³ãƒ³

  H/L åˆ‡æ›¿ã®ã‚¹ã‚¤ãƒƒãƒãƒ³ã‚°é€Ÿåº¦ã«é›»æºãŒè¿½ã„ã¤ã‹ãªã„ã€‚
  0.1Î¼F ã®ã‚»ãƒ©ãƒŸãƒƒã‚¯ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãŒé›»æºã¨GNDã®é–“ã«ãªã‚‹ã¹ãICã«è¿‘ã„ã¨ã“ã‚ã«å¿…è¦ã€‚
ã€€ã“ã‚Œã¯ICã”ã¨ã«é…ç½®ã™ã‚‹ã€‚

  ä¸Šè¨˜ã¨ã¯åˆ¥ã«åŸºç›¤ä¸Šã«1å€‹ 100Î¼F ã®é›»è§£ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã‚’é…ç½®ã€‚

### ãƒªã‚»ãƒƒãƒˆã¨ã‚¹ã‚¤ãƒƒãƒ

- ãƒ—ãƒ«ã‚¢ãƒƒãƒ—æŠµæŠ—

  1k ï½ 100k Î©ç¨‹åº¦ã®æŠµæŠ—

- ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°é˜²æ­¢

  - æ™‚å®šæ•°

    æ™‚å®šæ•°[sec] = R[Î©] x C[F]

    ex) 10kÎ©ã®æŠµæŠ—ã¨10Î¼Fã®ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã®å ´åˆ $(10 * 10^3) * (10 * 10^{-6}) = 10 * 10^{-3} = 100m [sec]$

    é›»åœ§ã®å¤‰ä½ã¯ $E(1 - e^{-\frac{t}{CR}})$ ãªã®ã§ã€$1 - \frac{1}{e} = 1 - 0.37 = 0.63$ ã¨ãªã‚Šç´„63%ç¨‹åº¦ã«ãªã‚‹æ™‚é–“ã‚’è¡¨ã™

  - ã‚·ãƒ¥ãƒŸãƒƒãƒˆãƒˆãƒªã‚¬

    æ™‚å®šæ•°ã‚’ä½¿ã£ã¦ãƒãƒ£ã‚¿ãƒªãƒ³ã‚°ã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã« ON/OFF ã‚’ã‚†ã£ãã‚Šã—ãŸå ´åˆã«ã‚‚ã€å…¥åŠ›ã‚’æ­£å¸¸ã«æ‰±ãˆã‚‹

### ã‚¯ãƒ­ãƒƒã‚¯

  1Hz ã¨ã™ã‚‹ã€‚
  5Vé›»æºã§ 2.5V ã‚’ã—ãã„å€¤ã¨ã™ã‚‹ã¨ã€7.5V ï½ -2.5V ã®ç¯„å›²ã§é›»åœ§ãŒã‹ã‹ã‚‹ã€‚
  å‘¨æœŸã®åŠåˆ†ãŒã‚³ãƒ³ãƒ‡ãƒ³ã‚µã«é›»åœ§ãŒæºœã¾ã‚‹/æ”¾é›»ã™ã‚‹æ™‚é–“ã¨ãªã‚Šã€
  7.5V -> 2.5V (1/3ã«ãªã‚‹=ç´„33%ã«ãªã‚‹)
  $e^{-\frac{t}{CR}} = 0.33 => \frac{t}{CR} = -log 0.33 \fallingdotseq 1.1 => t \fallingdotseq (1.1 * CR) * 2$
  ä½™è£•ã¿ã¦ $t \fallingdotseq 3.0 * CR$ ã¨è€ƒãˆã‚‹ã€‚
  1Hz ã®å ´åˆã¯ã€$t = 1 => CR = 1/3 = 0.33$ ã«ãªã‚‹çµ„ã¿åˆã‚ã›ã‚’è€ƒãˆã‚‹ã€‚
  R = 33kÎ©, C = 10Î¼F => $33 * 10^3 * 10 * 10^{-6} = 330 * 10^{-3}$

### ROM

- ãƒ‡ãƒ¼ã‚¿ãƒã‚¹
  1åº¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘æ¸¡ã™ã‚µã‚¤ã‚ºã«ãªã‚‹ã€‚8bitæ¯ã«ã‚„ã‚Šå–ã‚Šã™ã‚‹å ´åˆã¯ã€1bitæ¯ã«1æœ¬å¿…è¦ãªã®ã§8æœ¬å¿…è¦ã«ãªã‚‹ã€‚

- ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒã‚¹
  ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã«ä¾å­˜ã™ã‚‹ã€‚ç·ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚º / ãƒ‡ãƒ¼ã‚¿ãƒã‚¹ã‚µã‚¤ã‚º åˆ†ã®ã‚¢ãƒ‰ãƒ¬ã‚¹æ•°ãŒå¿…è¦ã«ãªã‚‹ã€‚
  128bit(16byte)ã®ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºã®å ´åˆã¯ã€128 / 8 = 16 å€‹åˆ†ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚µã‚¤ã‚ºãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€4æœ¬å¿…è¦ã«ãªã‚‹
  ($16 = 2^4$ â€»16ç¨®é¡ã¯4æœ¬ã‚ã‚Œã°è¡¨ã›ã‚‹)

- ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¤‰æ›
  4bit ã§ 16 å€‹åˆ†ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¡¨ã›ã‚‹ã€‚4bitã§è¡¨ã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã€16å€‹ã®ã†ã¡1ã¤ã‚’é¸æŠã™ã‚‹ã€‚

  |  D  |  C  |  B  |  A  | SELECT LOW |
  | :-: | :-: | :-: | :-: | :--------: |
  |  L  |  L  |  L  |  L  |     Y0     |
  |  L  |  L  |  L  |  H  |     Y1     |
  |  L  |  L  |  H  |  L  |     Y2     |
  |  L  |  L  |  H  |  H  |     Y3     |
  |  L  |  H  |  L  |  L  |     Y4     |
  |  L  |  H  |  L  |  H  |     Y5     |
  |  L  |  H  |  H  |  L  |     Y6     |
  |  L  |  H  |  H  |  H  |     Y7     |
  |  H  |  L  |  L  |  L  |     Y8     |
  |  H  |  L  |  L  |  H  |     Y9     |
  |  H  |  L  |  H  |  L  |    Y10     |
  |  H  |  L  |  H  |  H  |    Y11     |
  |  H  |  H  |  L  |  L  |    Y12     |
  |  H  |  H  |  L  |  H  |    Y13     |
  |  H  |  H  |  H  |  L  |    Y14     |
  |  H  |  H  |  H  |  H  |    Y15     |


### CPU

- 4bit CPU
  4bit ã‚’å˜ä½ã¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ã¨ã„ã†ã“ã¨

- ãƒ¬ã‚¸ã‚¹ã‚¿(4bit)
  - A: æ¼”ç®—ã‹ã¤ãƒ¡ãƒ¢ãƒªãƒ¼ç”¨(4bit)
  - B: æ¼”ç®—ã‹ã¤ãƒ¡ãƒ¢ãƒªãƒ¼ç”¨(4bit)
  - C: ã‚­ãƒ£ãƒªãƒ¼ãƒ•ãƒ©ã‚°(1bit)
  - PC: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿(4bit)
  - å…¥åŠ›ãƒãƒ¼ãƒˆ(4bit)
  - å‡ºåŠ›ãƒãƒ¼ãƒˆ(4bit)

- å‘½ä»¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ(8bit)
  - ä¸Šä½4ãƒ“ãƒƒãƒˆ: ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰

    | ã‚³ãƒ¼ãƒ‰ | ãƒã‚·ãƒ³èª  | å†…å®¹                                       |
    | :----: | :-------- | :----------------------------------------- |
    |  0000  | ADD A, Im | A <= A + Im                                |
    |  0101  | ADD B, Im | B <= B + Im                                |
    |  0011  | MOV A, Im | A <= Im                                    |
    |  0111  | MOV B, Im | B <= Im                                    |
    |  0001  | MOV A, B  | A <= B                                     |
    |  0100  | MOV B, A  | B <= A                                     |
    |  1111  | JMP Im    | Im ã¸ã‚¸ãƒ£ãƒ³ãƒ—                              |
    |  1110  | JMC Im    | C ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ãªã„ã¨ãã« Im ã¸ã‚¸ãƒ£ãƒ³ãƒ— |
    |  0010  | IN A      | å…¥åŠ›ãƒãƒ¼ãƒˆã‹ã‚‰ A ã¸è»¢é€                    |
    |  0110  | IN B      | å…¥åŠ›ãƒãƒ¼ãƒˆã‹ã‚‰ B ã¸è»¢é€                    |
    |  1001  | OUT B     | B ã‚’å‡ºåŠ›ãƒãƒ¼ãƒˆã¸è»¢é€                       |
    |  1011  | OUT Im    | Im ã‚’å‡ºåŠ›ãƒãƒ¼ãƒˆã¸è»¢é€                      |

  - ä¸‹ä½4ãƒ“ãƒƒãƒˆ: ã‚¤ãƒŸãƒ‡ã‚£ã‚¨ã‚¤ãƒˆã‚³ãƒ¼ãƒ‰(Im)
    å‘½ä»¤ã«çµ„ã¿è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿

### CPU ã®ä»•çµ„ã¿

- å‡¦ç†å˜ä½ã¯ 4bit
  4bit ãªã®ã§ã€0ï½15 ã¾ã§ã®16ç¨®é¡ã‚’æ‰±ãˆã‚‹

  - A ãƒ¬ã‚¸ã‚¹ã‚¿

    |     |      |      |      |
    | --- | ---- | ---- | ---- |
    | bi3 | bit2 | bit1 | bit0 |
    | MSB |      |      | LSB  |

  - B ãƒ¬ã‚¸ã‚¹ã‚¿

    |     |      |      |      |
    | --- | ---- | ---- | ---- |
    | bi3 | bit2 | bit1 | bit0 |
    | MSB |      |      | LSB  |

- æ•°å€¤ã®è»¢é€
  - MOV A, Im
  - MOV B, Im
- ãƒ¬ã‚¸ã‚¹ã‚¿é–“ã®è»¢é€
  - MOV A, B
  - MOV B, A
- åŠ ç®—å‘½ä»¤
  - ADD A, Im
  - ADD B, Im
- ã‚¸ãƒ£ãƒ³ãƒ—å‘½ä»¤
  - JMP Im
- ãƒ•ãƒ©ã‚°
  - ADD å¾Œã«æ±ºã¾ã‚‹
  - ADD å¾Œã®å€¤ã‚’15ã«ã™ã‚‹ã“ã¨ã§ã€æŒ‡å®šã—ãŸå€¤ä»¥ä¸‹ã‹ã©ã†ã‹åˆ¤å®šã§ãã‚‹
    - JMC Im
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿
- I/O
  - å…¥åŠ›å‘½ä»¤
    - IN A
    - IN B
  - å‡ºåŠ›å‘½ä»¤
    - OUT B
    - OUT Im

### ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—

1bit ã®å€¤ã‚’è¨˜æ†¶ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
=> ãƒ¬ã‚¸ã‚¹ã‚¿ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚‹

å…¥åŠ›ãƒ»å‡ºåŠ›ãƒ»ã‚¯ãƒ­ãƒƒã‚¯ãŒã‚ã‚Šã€ã‚¯ãƒ­ãƒƒã‚¯(L -> H)ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å…¥åŠ›ã®çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹ã€‚
ã‚¯ãƒªã‚¢(çŠ¶æ…‹ã‚’0ã«ã™ã‚‹)ã¨ãƒ—ãƒªã‚»ãƒƒãƒˆ(çŠ¶æ…‹ã‚’1ã«ã™ã‚‹)ã‚‚ã‚ã‚‹ã€‚

- å€¤ã‚’ä¿æŒã™ã‚‹æ–¹æ³•
  - å…¥åŠ›ã«å‡ºåŠ›ã‚’æ¥ç¶šã™ã‚‹
  - ã‚¯ãƒ­ãƒƒã‚¯ã‚’æ­¢ã‚ã‚‹

### ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ¬ã‚¯ã‚¿

ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µã¨ã‚‚è¨€ã‚ã‚Œã‚‹ã€‚

|  A  |  B  | C0  | C1  | C2  | C3  |  G  |  Y  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
|     |     |     |     |     |     |  H  |  L  |
|  L  |  L  |  L  |     |     |     |     |  L  |
|  L  |  L  |  H  |     |     |     |     |  H  |
|  H  |  L  |     |  L  |     |     |     |  L  |
|  H  |  L  |     |  H  |     |     |     |  H  |
|  L  |  H  |     |     |  L  |     |     |  L  |
|  L  |  H  |     |     |  H  |     |     |  H  |
|  H  |  H  |     |     |     |  L  |     |  L  |
|  H  |  H  |     |     |     |  H  |     |  H  |

### ãƒ¬ã‚¸ã‚¹ã‚¿

| CLR | LD  | ENP | ENT | QA  | QB  | QC  | QD  | ãƒ¡ãƒ¢         |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | ------------ |
|  L  |     |     |     |  L  |  L  |  L  |  L  |              |
|  H  |  L  |     |     |  A  |  B  |  C  |  D  |              |
|  H  |  H  |     |  L  |     |     |     |     |              |
|  H  |  H  |  L  |     |     |     |     |     |              |
|  H  |  H  |  H  |  H  |     |     |     |     | ã‚«ã‚¦ãƒ³ãƒˆå‹•ä½œ |

- LD ã‚’ LOW ã«ã™ã‚‹ã¨å€¤ã‚’å–å¾—ã™ã‚‹

- ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹


### è»¢é€ã®ä»•çµ„ã¿

- LOAD(0, 1, 2, 3) ã¯ãƒ¬ã‚¸ã‚¹ã‚¿ã®é¸æŠã«ä½¿ç”¨ã—ã¦ã„ã‚‹
- SELECT(A, B)ã¯ã€ãƒ‡ãƒ¼ã‚¿è»¢é€å…ƒã®é¸æŠã«ä½¿ç”¨ã—ã¦ã„ã‚‹

|  A  |  B  |     é¸æŠ     |
| :-: | :-: | :----------: |
|  L  |  L  | C0(Aãƒ¬ã‚¸ã‚¹ã‚¿) |
|  H  |  L  | C1(Bãƒ¬ã‚¸ã‚¹ã‚¿) |
|  L  |  H  | C2(Cãƒ¬ã‚¸ã‚¹ã‚¿) |
|  H  |  H  | C3(Dãƒ¬ã‚¸ã‚¹ã‚¿) |

| LOAD0 | LOAD1 | LOAD2 | LOAD3 | æ›¸ãè¾¼ã¿å…ˆ |
| :---: | :---: | :---: | :---: | :--------: |
|   L   |   H   |   H   |   H   | Aãƒ¬ã‚¸ã‚¹ã‚¿  |
|   H   |   L   |   H   |   H   | Bãƒ¬ã‚¸ã‚¹ã‚¿  |
|   H   |   H   |   L   |   H   | Cãƒ¬ã‚¸ã‚¹ã‚¿  |
|   H   |   H   |   H   |   L   | Dãƒ¬ã‚¸ã‚¹ã‚¿  |


### åŠ ç®—å™¨

|  A  |  B  | C(ã‚­ãƒ£ãƒªãƒ¼) | Sï¼ˆå‡ºåŠ›ï¼‰ |
| :-: | :-: | :---------: | :-------: |
|  0  |  0  |      0      |     0     |
|  0  |  1  |      0      |     1     |
|  1  |  0  |      0      |     1     |
|  1  |  1  |      1      |     0     |

$S = \overline{A} \cdot B + A \cdot \overline{B}$
$C = A \cdot B$

| Cin |  A  |  B  | C(ã‚­ãƒ£ãƒªãƒ¼) | Sï¼ˆå‡ºåŠ›ï¼‰ |
| :-: | :-: | :-: | :---------: | :-------: |
|  0  |  0  |  0  |      0      |     0     |
|  0  |  0  |  1  |      0      |     1     |
|  0  |  1  |  0  |      0      |     1     |
|  0  |  1  |  1  |      1      |     0     |
|  1  |  0  |  0  |      0      |     1     |
|  1  |  0  |  1  |      1      |     0     |
|  1  |  1  |  0  |      1      |     0     |
|  1  |  1  |  1  |      1      |     1     |

### ãƒ•ãƒ©ã‚°

ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—ã‚’ä½¿ã†

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚«ã‚¦ãƒ³ã‚¿

ã‚«ã‚¦ãƒ³ã‚¿æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¦ã€D ãƒ¬ã‚¸ã‚¹ã‚¿ã‚’æµç”¨ã™ã‚‹

### I/O ãƒãƒ¼ãƒˆ

C ãƒ¬ã‚¸ã‚¹ã‚¿ã‚’æµç”¨ã™ã‚‹

### å‘½ä»¤ã®ãƒ‡ã‚³ãƒ¼ãƒ‰

- å‡ºåŠ›(6bit)
  - SELECT A, SELECT B
  - LOAD0, LOAD1, LOAD2, LOAD3

- å…¥åŠ›(5bit)
  - ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰(4bit)
  - C ãƒ•ãƒ©ã‚°

| å‘½ä»¤      | bit7 | bit6 | bit5 | bit4 | bit3 | bit2 | bit1 | bit0 |  C  | SEL B | SEL A | L0  | L1  | L2  | L3  |
| :-------- | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :-: | :---: | :---: | :-: | :-: | :-: | :-: |
| MOV A, Im |  0   |  0   |  1   |  1   |      |      |      |      |  0  |   H   |   H   |  L  |  H  |  H  |  H  |
| MOV B, Im |  0   |  1   |  1   |  1   |      |      |      |      |  0  |   H   |   H   |  H  |  L  |  H  |  H  |
| MOV A, B  |  0   |  0   |  0   |  1   |  0   |  0   |  0   |  0   |  0  |   L   |   H   |  L  |  H  |  H  |  H  |
| MOV B, A  |  0   |  1   |  0   |  0   |  0   |  0   |  0   |  0   |  0  |   L   |   L   |  H  |  L  |  H  |  H  |
| ADD A, Im |  0   |  0   |  0   |  0   |      |      |      |      | 0/1 |   L   |   L   |  L  |  H  |  H  |  H  |
| ADD B, Im |  0   |  1   |  0   |  1   |      |      |      |      | 0/1 |   L   |   H   |  H  |  L  |  H  |  H  |
| IN A      |  0   |  0   |  1   |  0   |  0   |  0   |  0   |  0   |  0  |   H   |   L   |  L  |  H  |  H  |  H  |
| IN B      |  0   |  1   |  1   |  0   |  0   |  0   |  0   |  0   |  0  |   H   |   L   |  H  |  L  |  H  |  H  |
| OUT Im    |  1   |  0   |  1   |  1   |      |      |      |      |  0  |   H   |   H   |  H  |  H  |  L  |  H  |
| OUT B     |  1   |  0   |  0   |  1   |      |      |      |      |  0  |   L   |   H   |  H  |  H  |  L  |  H  |
| JMP Im    |  1   |  1   |  1   |  1   |      |      |      |      |  0  |   H   |   H   |  H  |  H  |  H  |  L  |
| JNC Im    |  1   |  1   |  1   |  0   |      |      |      |      |  0  |   H   |   H   |  H  |  H  |  H  |  L  |
| JNC Im    |  1   |  1   |  1   |  0   |      |      |      |      |  1  |       |       |  H  |  H  |  H  |  H  |


| å‘½ä»¤      | OP3 | OP2 | OP1 | OP0 |  C  | SEL B | SEL A | L0  | L1  | L2  | L3  |
| :-------- | :-: | :-: | :-: | :-: | :-: | :---: | :---: | :-: | :-: | :-: | :-: |
| MOV A, Im |  0  |  0  |  1  |  1  |     |   H   |   H   |  L  |  H  |  H  |  H  |
| MOV B, Im |  0  |  1  |  1  |  1  |     |   H   |   H   |  H  |  L  |  H  |  H  |
| MOV A, B  |  0  |  0  |  0  |  1  |     |   L   |   H   |  L  |  H  |  H  |  H  |
| MOV B, A  |  0  |  1  |  0  |  0  |     |   L   |   L   |  H  |  L  |  H  |  H  |
| ADD A, Im |  0  |  0  |  0  |  0  |     |   L   |   L   |  L  |  H  |  H  |  H  |
| ADD B, Im |  0  |  1  |  0  |  1  |     |   L   |   H   |  H  |  L  |  H  |  H  |
| IN A      |  0  |  0  |  1  |  0  |     |   H   |   L   |  L  |  H  |  H  |  H  |
| IN B      |  0  |  1  |  1  |  0  |     |   H   |   L   |  H  |  L  |  H  |  H  |
| OUT Im    |  1  |  0  |  1  |  1  |     |   H   |   H   |  H  |  H  |  L  |  H  |
| OUT B     |  1  |  0  |  0  |  1  |     |   L   |   H   |  H  |  H  |  L  |  H  |
| JMP Im    |  1  |  1  |  1  |  1  |     |   H   |   H   |  H  |  H  |  H  |  L  |
| JNC Im    |  1  |  1  |  1  |  0  |  0  |   H   |   H   |  H  |  H  |  H  |  L  |
| JNC Im    |  1  |  1  |  1  |  0  |  1  |       |       |  H  |  H  |  H  |  H  |


- SELECT B

  $OP1 = SEL B$

- SELECT A

  $OP0 \parallel OP3 = SEL A$

- LOAD 0

  $OP2 \parallel OP3 = LOAD 0$

- LOAD 1

  $\overline{OP2} \parallel OP3 = LOAD 1$

- LOAD 2

  $OP2 \parallel \overline{OP3} = LOAD 2$

- LOAD 3

  $(\overline{OP2}) \parallel (\overline{OP3}) \parallel (\overline{OP0} \cdot C) = LOAD 3$

- æœ€çµ‚


### ãƒ–ãƒ¼ãƒ«ä»£æ•°

| æ³•å‰‡             | å¼                                                                                                             |
| :--------------- | :------------------------------------------------------------------------------------------------------------- |
| çµåˆæ³•å‰‡         | $A + B = B + A \qquad A \cdot B = B \cdot A$                                                                   |
| æ’ç­‰æ³•å‰‡         | $A + (B + C) = (A + B) + C \qquad A \cdot (B \cdot C) = (A \cdot B) \cdot C$                                   |
| åŒä¸€æ³•å‰‡         | $A + 1 = 1 \qquad A \cdot 1 = A \qquad A + 0 = 0 \qquad A \cdot 0 = 0$                                         |
| è£œå…ƒæ³•å‰‡         | $A + \overline{A} = 1 \qquad A \cdot \overline{A} = 0$                                                         |
| å¾©å…ƒæ³•å‰‡         | $\overline{\overline{A}} = A$                                                                                  |
| ãƒ‰ãƒ»ãƒ¢ãƒ«ã‚¬ãƒ³æ³•å‰‡ | $\overline{A + B} = \overline{A} \cdot \overline{B} \qquad \overline{A \cdot B} = \overline{A} + \overline{B}$ |
| åˆ†é…æ³•å‰‡         | $A \cdot (B + C) = A \cdot B + A \cdot C \qquad A + (B \cdot C) = (A + B) \cdot (A + C)$                       |
| å¸åæ³•å‰‡         | $A + A \cdot B = A \qquad A \cdot (A + B) = A$                                                                 |


### ICãƒªã‚¹ãƒˆ

- åŸºæœ¬
  - 74HC04  : ã‚¤ãƒ³ãƒãƒ¼ã‚¿ x6
  - 74HC08  : AND x4
  - 74HC32  : OR x4
  - 74HC00  : NAND x4
  - 74HC10  : 3å…¥åŠ›AND x3

- 74HC14  : ã‚·ãƒ¥ãƒŸãƒƒãƒˆãƒˆãƒªã‚¬ã‚¤ãƒ³ãƒãƒ¼ã‚¿ x6
- 74HC540 : ã‚¤ãƒ³ãƒãƒ¼ã‚¿ x8
- 74HC154 : 4-8 ãƒ‡ã‚³ãƒ¼ãƒ€
  - 74HC138 : 154ãŒãªã„ãŸã‚ä»£æ›¿
- 74HC74  : ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ— x2
- 74HC153 : 4-1ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ¬ã‚¯ã‚¿ x2
- 74HC161 : åŒæœŸ4ãƒ“ãƒƒãƒˆã‚«ã‚¦ãƒ³ã‚¿
- 74HC283 : 4ãƒ“ãƒƒãƒˆãƒã‚¤ãƒŠãƒªå…¨åŠ ç®—å™¨

### javascript ã§ä½œã‚‹

```js:74HC04
function 74HC04(A1, A2, A3, A4, A5, A6) {
  return [!A1, !A2, !A3, !A4, !A5, !A6]
}
```

```js:74HC08
function 74HC08(A1, B1, A2, B2, A3, B3, A4, B4) {
  return [A1 && B1, A2 && B2, A3 && B3, A4 && B4]
}
```

```js:74HC32
function 74HC32(A1, B1, A2, B2, A3, B3, A4, B4) {
  return [A1 || B1, A2 || B2, A3 || B3, A4 || B4]
}
```

```js:74HC00
function 74HC00(A1, B1, A2, B2, A3, B3, A4, B4) {
  // return 74HC08(A1, B1, A2, B2, A3, B3, A4, B4).map(v => !v)
  return [!(A1 && B1), !(A2 && B2), !(A3 && B3), !(A4 && B4)]
}
```

```js:74HC10
function 74HC10(A1, B1, C1, A2, B2, C2, A3, B3, C3) {
  // return 74HC08(A1, B1, A2, B2, A3, B3, A4, B4).map(v => !v)
  return [!(A1 && B1 && C1), !(A2 && B2 && C2), !(A3 && B3 && C3), !(A4 && B4 && C4)]
}
```

```js:74HC10
class D_FF {
  constructor(state = false) {
    this.q = state
    this.last_state = false
  }

  update(D, clock) {
    if (this.last_state == false && !!clock == true) {
      this.q = !!D
    }

    this.last_state = !!clock
    return this.q
  }

  get Q() {
    return this.q
  }

  get QBar() {
    return !this.q
  }
}
```

- ROM
  - 74HC154
  - 74HC540

- CLOCK
  - 74HC14

- CPU
  - 74HC74
  - 74HC161
  - 74HC153
  - 74HC283
  - 74HC32
  - 74HC10

